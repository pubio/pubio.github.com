<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>pub.io</title>
<!-- TODO: Configure custom from http://modernizr.com/download/ -->
<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.5.3/modernizr.min.js"></script>
<script type="text/javascript">
// Google Analytics
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-33558918-1']);
_gaq.push(['_setDomainName', 'pub.io']);
_gaq.push(['_trackPageview']);

(function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();

// Persistence
function setProp(key){
	localStorage[key] = document.getElementById(key).value;
}

function getProp(key){
	return key in localStorage ? localStorage[key] : "";
}

// View
function loadPage(){
	if(Modernizr.localstorage){
		document.getElementById("yourName").value = getProp("yourName");
	} else {
		document.getElementById("wholePage").innerHTML = "You need a HTML5 capable browser (e.g. Chrome, Safari, FireFox)";
	}
}
</script>
</head>
<body onload="loadPage()">
<div id="wholePage">

<form>
<strong>Welcome</strong><br />
<input type="text" id="yourName" onChange="setProp('yourName')" placeholder="Your Name" />
</form>

<p />

<script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'search',
  search: '#olympics',
  interval: 30000,
  title: 'international olympics',
  subject: '/pub',
  width: 'auto',
  height: 300,
  theme: {
    shell: {
      background: '#d9bb8f',
      color: '#ffffff'
    },
    tweets: {
      background: '#ffffff',
      color: '#444444',
      links: '#1985b5'
    }
  },
  features: {
    scrollbar: false,
    loop: true,
    live: true,
    behavior: 'default'
  }
}).render().start();
</script>

</div>
</body>
</html>